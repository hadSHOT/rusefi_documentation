-- scriptname B6-2024-july.txt

-- include can_ids.lua
-- endinclude

-- include utils.lua
-- endinclude

setTickRate(100)

canRxAdd(ECU_BUS, MOTOR_1, silentlyRelayFromECU)
canRxAdd(ECU_BUS, MOTOR_BRE, silentlyRelayFromECU)
canRxAdd(ECU_BUS, MOTOR_2, silentlyRelayFromECU)
canRxAdd(ECU_BUS, MOTOR_3, silentlyRelayFromECU)
canRxAdd(ECU_BUS, MOTOR_5, silentlyRelayFromECU)
canRxAdd(ECU_BUS, MOTOR_6, silentlyRelayFromECU)
canRxAdd(ECU_BUS, MOTOR_7, silentlyRelayFromECU)
canRxAdd(ECU_BUS, ACC_GRA, silentlyRelayFromECU)
canRxAdd(ECU_BUS, MOTOR_INFO, silentlyRelayFromECU)

canRxAdd(ECU_BUS, Bremse_1, silentlyRelayFromECU)
canRxAdd(ECU_BUS, Bremse_2, silentlyRelayFromECU)
canRxAdd(ECU_BUS, Bremse_3, silentlyRelayFromECU)
canRxAdd(ECU_BUS, Bremse_4, silentlyRelayFromECU)
canRxAdd(ECU_BUS, Bremse_5, silentlyRelayFromECU)
canRxAdd(ECU_BUS, Bremse_6, silentlyRelayFromECU)

canRxAdd(ECU_BUS, Diagnose_1, silentlyRelayFromECU)


canRxAddMask(ECU_BUS, 0, 0, silentlyRelayFromECU)
canRxAddMask(TCU_BUS, 0, 0, silentlyRelayFromTCU)

everySecondTimer = Timer.new()

function onTick()
	if everySecondTimer : getElapsedSeconds() > 1 then
		everySecondTimer : reset()
		print("Total from ECU " ..totalEcuMessages .. " totalTcuMessages " .. totalTcuMessages)
	end
end

